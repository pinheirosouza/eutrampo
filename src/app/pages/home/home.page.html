<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
    <ion-searchbar placeholder="Encontre Serviços" [(ngModel)]="searchTerm" (ionChange)="setFilteredServicos()"></ion-searchbar>
    <!-- <ion-buttons (click)={} slot="end">
      <ion-icon style="font-size: 25px;" name="more"></ion-icon>
    </ion-buttons> -->
  </ion-toolbar>
</ion-header>

<ion-content>
  <!-- Eu trampo novo -->
  <ion-list *ngIf='searchTerm != ""'>
    <ion-list-header>
      Contrate um serviço
    </ion-list-header>

    <ion-card *ngFor="let worker of lista_workers; let i=index" (click)="showModal(worker)">
      <ion-item>  
        <ion-avatar slot="start">
          <img src="../../../assets/img/tester.png">
        </ion-avatar>
        <ion-col>
          <ion-label>
            <h2>{{worker.title}}</h2>
            <h3>{{worker.subcategory[0].title}}</h3>
            <p>0 Serviços Prestados</p>
          </ion-label>
        </ion-col>
        <ion-col class="center" size="8px">
          <ion-label>
            <p>{{worker.price | currency:"BRL":true:"1.2" }}</p>
          </ion-label>
        </ion-col>
      </ion-item>
    </ion-card>

  </ion-list>

  <ion-list *ngIf='searchTerm == ""'>
    <ion-list-header>
      Serviços
    </ion-list-header>

    <ion-card *ngFor="let worker of lista_workers | slice:0:3" (click)="showModal(worker)">
      <ion-item> 
        <ion-avatar slot="start">
          <img src="../../../assets/img/tester.png">
        </ion-avatar>
        <ion-col>
          <ion-label>
            <h2>{{worker.title}}</h2>
            <h3>{{worker.subcategory[0].title}}</h3>
            <p>0 Serviços Prestados</p>
          </ion-label>
        </ion-col>
        <ion-col class="center" size="8px">
          <ion-label>
            <p>{{worker.price | currency:"BRL":true:"1.2" }}</p>
          </ion-label>
        </ion-col>
      </ion-item>
    </ion-card>

  </ion-list>

  <!-- <ion-list *ngIf='searchTerm == ""'>
    <ion-list-header>
      Serviços Mais Contratados
    </ion-list-header>

    <ion-card *ngFor="let service of recent_services; let i=index" [href]=service.redirectTo>
      <ion-item *ngIf='i<=4'>
        <ion-avatar slot="start">
          <img [src]="service.pic">
        </ion-avatar>
        <ion-col>
          <ion-label>
            <h2>{{service.name}}</h2>
            <h3>{{service.servicetype}}</h3>
            <p>{{service.provided}} Serviços Prestados</p>
          </ion-label>
        </ion-col>
        <ion-col class="center" size="8px">
          <ion-label>
            <p>{{service.price | currency:"BRL":true:"1.2" }}</p>
          </ion-label>
        </ion-col>
      </ion-item>
    </ion-card>

    <ion-item text-center routerLink="">
      <ion-label>Buscar Serviços</ion-label>
    </ion-item>

  </ion-list> -->

  <ion-list *ngIf='searchTerm == ""'>
    <ion-list-header>
      Oportunidades
    </ion-list-header>
    <ion-card *ngFor="let oportunidade of lista_oportunidades; let i=index">
      <ion-card-content *ngIf='i<=4'>
        <h1 class="titulo_noticia">{{oportunidade.title}}</h1>
        <a href={{oportunidade.link}}> 
          <img class="noticiaimg" [src]="oportunidade.image">
        </a>
        <h3>{{oportunidade.description}}</h3>
      </ion-card-content>
    </ion-card>

    <ion-item text-center routerLink="../opportunities">
      <ion-label>Ver Mais Oportunidades</ion-label>
    </ion-item> 
  </ion-list>

  <ion-list *ngIf='searchTerm == ""'>
    <ion-list-header>
      Notícias
    </ion-list-header>

    <ion-card *ngFor="let noticia of lista_noticias; let i=index">
      <ion-card-content *ngIf='i<=4'>
        <h1 class="titulo_noticia">{{noticia.title}}</h1>
        <a href={{noticia.link}}>
          <img class="noticiaimg" [src]="noticia.image">
        </a>
        <h3>{{noticia.description}}</h3>
      </ion-card-content>
    </ion-card>

    <ion-item text-center [routerDirection]="'root'" routerLink="../news">
      <ion-label>Ver Mais Notícias</ion-label>
    </ion-item>  

  </ion-list>

</ion-content>
